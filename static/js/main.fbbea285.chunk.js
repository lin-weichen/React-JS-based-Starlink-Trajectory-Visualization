(this.webpackJsonpstarlink=this.webpackJsonpstarlink||[]).push([[0],{108:function(e,t,a){e.exports=a.p+"static/media/starlink_logo.142c8c7f.svg"},113:function(e,t,a){e.exports=a.p+"static/media/satellite1.296b75ad.png"},132:function(e,t,a){e.exports=a(204)},137:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),o=a.n(s),i=(a(137),a(32)),c=a(33),l=a(38),u=a(37),m=a(108),h=a.n(m),d=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:h.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",{className:"title"},"StarLink Tracker"))}}]),a}(n.Component),f=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},"\xa92020 StarLink Tracker. All Rights Reserved. Website Made by Your name")}}]),a}(n.Component),p=a(67),g=a(129),v=a(86),b=a(55),E=a.n(b),S=a(222),w=a(216),j=a(218),k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onChangeLong=function(t){e.setState({observerLong:t})},e.onChangeLat=function(t){e.setState({observerLat:t})},e.onChangeEle=function(t){e.setState({observerElevation:t})},e.onChangeAlt=function(t){e.setState({satAlt:Number(90-+t)})},e.onDurationChange=function(t){e.setState({duration:t})},e.showSatellite=function(){e.props.onShow(e.state)},e.state={observerLat:0,observerLong:0,observerElevation:0,satAlt:90,duration:[0,90],isLoading:!1},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"sat-setting"},r.a.createElement("div",{className:"loc-setting"},r.a.createElement("p",{className:"setting-label"},"From Location"),r.a.createElement("div",{className:"setting-list two-item-col"},r.a.createElement("div",{className:"list-item"},r.a.createElement("label",null,"Longitude: "),r.a.createElement(S.a,{min:-180,max:180,defaultValue:0,style:{margin:"0 2px"},onChange:this.onChangeLong})),r.a.createElement("div",{className:"list-item right-item"},r.a.createElement("label",null,"Latitude: "),r.a.createElement(S.a,{placeholder:"latitude",min:-90,max:90,defaultValue:0,style:{margin:"0 2px"},onChange:this.onChangeLat}))),r.a.createElement("div",{className:"setting-list"},r.a.createElement("div",{className:"list-item"},r.a.createElement("label",null,"Elevation(meters): "),r.a.createElement(S.a,{min:-413,max:8850,defaultValue:0,style:{margin:"0 2px"},onChange:this.onChangeEle})))),r.a.createElement("div",{className:"altitude-setting"},r.a.createElement("p",{className:"setting-label"},"Restrictions"),r.a.createElement("div",null,r.a.createElement("span",null,"Show only satellites which are higher than ",r.a.createElement("br",null)," altitude"),r.a.createElement(S.a,{min:0,max:90,defaultValue:0,style:{margin:"8px 2px 0"},onChange:this.onChangeAlt})," ",r.a.createElement("span",null,"degrees."))),r.a.createElement("div",{className:"duration-setting"},r.a.createElement("p",{className:"setting-label"},"Duration(sec)"),r.a.createElement(w.a,{className:"duration-slider",range:!0,step:1,defaultValue:[0,90],min:0,max:90,marks:{0:"0",90:"90"},onChange:this.onDurationChange})),r.a.createElement("div",{className:"show-nearby"},r.a.createElement(j.a,{className:"show-nearby-btn",size:"large",onClick:this.showSatellite},"Find Nearby Satellites")))}}]),a}(n.Component),L=a(114),N=a(214),O=a(221),y=a(219),x=a(113),C=a.n(x),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onChange=function(t){var a=t.target,n=a.dataInfo,r=a.checked,s=e.state.selected,o=e.addOrRemove(n,r,s);e.setState({selected:o})},e.addOrRemove=function(e,t,a){var n=a.some((function(t){return t.satid===e.satid}));return t&&!n&&a.push(e),!t&&n&&(a=a.filter((function(t){return t.satid!==e.satid}))),a},e.onShowSatMap=function(){e.props.onShowMap(e.state.selected)},e.state={selected:[],isLoad:!1},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.satInfo?this.props.satInfo.above:[],a=this.props.isLoad,n=this.state.selected;return r.a.createElement("div",{className:"sat-list-box"},r.a.createElement(j.a,{className:"sat-list-btn",size:"large",disabled:0===n.length,onClick:this.onShowSatMap},"Track on the map"),r.a.createElement("hr",null),a?r.a.createElement("div",{className:"spin-box"},r.a.createElement(L.a,{tip:"Loading...",size:"large"})):r.a.createElement(N.b,{className:"sat-list",itemLayout:"horizontal",size:"small",dataSource:t,renderItem:function(t){return r.a.createElement(N.b.Item,{actions:[r.a.createElement(O.a,{dataInfo:t,onChange:e.onChange})]},r.a.createElement(N.b.Item.Meta,{avatar:r.a.createElement(y.a,{size:50,src:C.a}),title:r.a.createElement("p",null,t.satname),description:"Launch Date: ".concat(t.launchDate)}))}}))}}]),a}(n.Component),I=a(127),M=a(215),A=a(212),P=a(220),T=a(213),V=a(223),R=a(224),z=a(217),W="https://www.n2yo.com/rest/v1/satellite",J="".concat(W,"/above"),B="".concat(W,"/positions"),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={map:null,color:V.a(R.a),isLoad:!1},e.refMap=r.a.createRef(),e.refTrack=r.a.createRef(),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;E.a.get("https://unpkg.com/world-atlas@1/world/110m.json").then((function(t){var a=t.data,n=Object(I.a)(a,a.objects.countries).features;e.generateMap(n)})).catch((function(e){return console.log("err in fetch world map data ",e)}))}},{key:"generateMap",value:function(e){var t=Object(M.a)().scale(170).translate([480,300]).precision(.1),a=Object(A.a)(),n=Object(T.a)(this.refMap.current).attr("width",960).attr("height",600),r=Object(T.a)(this.refTrack.current).attr("width",960).attr("height",600),s=n.node().getContext("2d"),o=r.node().getContext("2d"),i=Object(P.a)().projection(t).context(s);e.forEach((function(e){s.fillStyle="#B3DDEF",s.strokeStyle="#000",s.globalAlpha=.7,s.beginPath(),i(e),s.fill(),s.stroke(),s.strokeStyle="rgba(220, 220, 220, 0.1)",s.beginPath(),i(a()),s.lineWidth=.1,s.stroke(),s.beginPath(),s.lineWidth=.5,i(a.outline()),s.stroke()})),this.setState({map:{projection:t,graticule:a,context:s,context2:o}})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(this.props.satData!==e.satData){var r=this.props.observerData,s=r.observerLat,o=r.observerLong,i=r.duration,c=60*i[0],l=60*i[1],u=this.props.satData.map((function(e){var t=e.satid,a="".concat(B,"/").concat(t,"/").concat(s,"/").concat(o,"/").concat(c,"/").concat(l,"/&apiKey=").concat("PFBQS5-54VGVE-JKPNNW-4IAJ");return E.a.get(a)}));this.setState((function(){return{isLoad:!0}})),E.a.all(u).then(E.a.spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map((function(e){return e.data}))}))).then((function(e){if(!(e.length>0))throw new Error("no sat position info");n.track(e),n.setState((function(){return{isLoad:!1}}))})).catch((function(e){console.log("error in fetch satellite position"),alert("error in fetch satellite position"+e)}))}}},{key:"track",value:function(e){var t=this;console.log("2 -> ",e);var a=this.props.observerData.duration,n=e[0].positions.length,r=this.state.map.context2,s=new Date,o=0,i=setInterval((function(){var c=Date.now()-s;0===o&&s.setSeconds(s.getSeconds()+60*a[0]);var l=new Date(s.getTime()+60*c);r.clearRect(0,0,960,600),r.font="bold 14px sans-serif",r.fillStyle="#333",r.textAlign="center",r.fillText(Object(z.a)(l),480,10),o>=n?clearInterval(i):(e.forEach((function(e){var a=e.info,n=e.positions;t.drawSat(a,n[o])})),o+=60)}),1e3)}},{key:"drawSat",value:function(e,t){var a=this.state.map,n=a.projection,r=a.context2,s=n([t.satlongitude,t.satlatitude]);r.fillStyle=this.state.color(e.satname),r.beginPath(),r.arc(s[0],s[1],4,0,2*Math.PI),r.fill(),r.font="bold 11px sans-serif",r.textAlign="center",r.fillText(e.satname,s[0],s[1]+14)}},{key:"render",value:function(){var e=this.state.isLoad;return r.a.createElement("div",{className:"map-box"},e?r.a.createElement("div",{className:"spinner"},r.a.createElement(L.a,{tip:"Loading...",size:"large"})):null,r.a.createElement("canvas",{className:"map",ref:this.refMap}),r.a.createElement("canvas",{className:"track",ref:this.refTrack}))}}]),a}(n.Component),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).showNearbySatellite=function(t){e.setState({settings:t,isLoadingList:!0}),e.fetchSatellite(t)},e.fetchSatellite=function(t){var a=t.observerLat,n=t.observerLong,r=t.observerElevation,s=t.satAlt,o="".concat(J,"/").concat(a,"/").concat(n,"/").concat(r,"/").concat(s,"/").concat("52","/&apiKey=").concat("PFBQS5-54VGVE-JKPNNW-4IAJ");e.setState({isLoadingList:!0}),E.a.get(o).then((function(t){console.log(t.data),e.setState({satInfo:t.data,isLoadingList:!1})})).catch((function(e){console.log("err in fetch satellite -> ",e)}))},e.showMap=function(t){e.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},{satList:Object(g.a)(t)})}))},e.state={satInfo:null,isLoadingList:!1,settings:null,satList:null},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.satInfo;return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"left-side"},r.a.createElement(k,{onShow:this.showNearbySatellite}),r.a.createElement(D,Object(p.a)({satInfo:e,onShowMap:this.showMap},"onShowMap",this.showMap))),r.a.createElement("div",{className:"right-side"},r.a.createElement(F,{satData:this.state.satList,observerData:this.state.settings})))}}]),a}(n.Component);var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(K,null),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.fbbea285.chunk.js.map